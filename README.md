<p align="center">
  <a href="https://simp.areskul.com/image/simp_dark.png" target="_blank" rel="noopener noreferrer">
    <img width="200" src="https://simp.areskul.com/images/simp.png" alt="SimpCICD logo">
  </a>
</p>
<br/>

# Warning

Don't dowload now!

It's still in early stage development!

See you nex week ðŸ˜Š...

# Getting Started

## Install

Install cli

```bash
yarn add -g simpcicd
```

```bash
npm install -g simpcicd
```

And module

```bash
yarn add -D simpcicd
```

```bash
npm install -save-dev simpcicd
```

## Usage

Once you have set your config, it comes in 2 flavors:

- CLI

```bash
## in your terminal
simp <command> <options> <args>
```

- usual module

```ts
// main.ts
import { useSimp } from "simpcicd";
```

## Cli

For short

```bash
simp -p <pipeline name>
```

will trigger a pipeline execution

```bash
simp hooks
```

will transform your pipelines in git hooks

```bash
simp hooks --delete
```

Will delete hooks generated by Simp CICD

## Config

Everithing fits in a config file.

Here is a simple example of what could contain simp.config.json

```json
pipeline : {
  name: "test",
  steps: [
    {
      name: "build",
      commands: ["yarn install", "yarn build"]
    },
  ],
  trigger: {
    branch: [
      "master",
      "dev"
    ]
  }
}
```

It becomes interesting when you use Typescript.

## Module

### Integrates with your tools

There we are.
You're gonna enjoy this part.

```ts
// deploy.ts
import { useSimp } from "simpcicd";
import config from "simp.config.ts";

useSimp(config);
```

Create a config file in .ts
And enjoy creating greate pipelines

```ts
// simp.config.ts
import type { Config } from "simpcicd";

const dockerOptions = " -t myapp .";

const config = {
  pipeline: {
    name: "test",
    steps: [
      {
        name: "build",
        commands: ["yarn install", "yarn build"]
      }
      {
        name: "docker",
        commands: [`docker ${dockerOptions}`]
      }
    ],
    trigger: {
      branch: ["master", "dev"]
    }
  }
};
export default config;
```

### Generate config file for CLI

For now .ts config file can't be interpreted by cli.

I will implement such a thing in next versions (this feature is in vite.js source code)

So a .json file need to be generated

```ts
// deploy.ts
import { useCli } from "simpcicd";
import config from "simp.config.ts";

// Generate a .json config file for cli usage;
const cli = useCli(config);
```

You can automate this with an entry in your package.json

```json
script:{
  "simp" : "ts-node deploy.ts"
}
```

### Generate hooks

```ts
// deploy.ts
import { useHooks } from "simpcicd";
import config from "simp.config.ts";

// Generate git hooks
const hooks = useHooks(config);
```
